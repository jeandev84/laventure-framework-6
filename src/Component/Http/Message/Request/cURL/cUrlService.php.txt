<?php
namespace Laventure\Component\Http\Message\Request\cURL;

class cUrlService
{

    protected $ch;



    /**
     * @param string|null $url
    */
    public function __construct(string $url = null)
    {
         $this->ch = curl_init($url);
    }


    /**
     * @param string $url
     *
     * @return $this
    */
    public function url(string $url): static
    {
         return $this;
    }



    /**
     * @param $key
     *
     * @param $value
     *
     * @return $this
    */
    public function option($key, $value): static
    {
        curl_setopt($this->ch, $key, $value);

        return $this;
    }



    /**
     * @param array $options
     *
     * @return $this
    */
    public function options(array $options): static
    {
        curl_setopt_array($this->ch, $options);

        return $this;
    }



    /**
     * @return array
    */
    public function exec(): array
    {
        $result = curl_exec($this->ch);

        return [
          'result' => $result,
        ];
    }
}